# Проект

## Правила игры

Проект представляет собой сильно упрощённую реализацию известной игры "Лабиринт" или "Terra incognita".
Подробная информация о правилах полноценной реализации имеется в статье Википедии "Лабиринт (игра на бумаге)".
Здесь реализована лишь малая часть правил.

Имеется лабиринт (примеры приведены в каталоге labyrinths).
Обозначения: # стена (недоступна для прохода), T сокровище, S вход, E выход, 0-9 ямы с заданным номером (wormholes).
Играет один игрок, всегда являющийся реализацией интерфейса `Player`.
Его задача -- передвигаясь по лабиринту в темноте (делая шаги в любую из четырёх сторон), 
найти в нём сокровище, а затем выход из лабиринта.
При попадании в яму номер N игрок автоматически перескакивает в яму номер N+1,
а если эта яма последняя -- то в яму номер 0. Общее количество ям неизвестно игроку.

Важно, что игрок не видит карту лабиринта (объект типа `Labyrinth` недоступен в интерфейсе `Player`). 
Перед началом игры ему сообщаются его начальные координаты и размеры лабиринта `setStartLocationAndSize`.
Затем мастер (`Controller`) последовательно запрашивает у него очередной ход `Move` через `getNextMove`
и сообщает результат хода `MoveResult` через `setMoveResult`.
В результате игроку сообщается, удалось ли перемещение, что было в той клетке, куда он пытался пойти,
текущее состояние `Condition` (найдено сокровище / не найдено, выход достигнут / не достигнут)
и строку с описанием статуса.
Игроку более НЕ СООБЩАЮТСЯ его текущие координаты 
(в частности, при попадании в яму игрок не может определить свои новые координаты простыми способами).

Игрок выигрывает, достигнув выхода с сокровищем, и проигрывает, израсходовав лимит ходов
(ходы, упирающиеся в стену, при этом не считаются)

## Возможные задания к проекту

### Максимально умный игрок

Необходимо написать реализацию интерфейса `Player`, решающую произвольные лабиринты
(не считая в принципе неразрешимых или слишком больших).
Несколько примеров подобных (плохих) реализаций приведены в пакете `ru.spbstu.terrai.players.samples`.
Для каждой из этих реализаций имеются тесты 
(из них видно, что ни один игрок не решает все имеющиеся в каталоге `labyrinths` лабиринты).
Тем не менее, рекомендуется с ними ознакомиться, чтобы понять принцип работы игрока.

Ещё раз замечу, что игрок не должен иметь доступа к карте лабиринта.
Более того, игроки в тестах создаются с помощью конструктора по умолчанию, 
затем для них вызывается `setStartLocationAndSize` и затем в цикле, по очереди
`getNextMove` / `setMoveResult`, пока не будет израсходован лимит ходов или не будет достигнут выход.
Именно такое взаимодействие предполагается и со всеми новыми реализациями.

Ограничения на лабиринты:

* Все лабиринты -- прямоугольные, со всех сторон окружённые стенами
* Максимальный размер 40 (ширина) х 25 (высота), минимальный 2 х 2
* Есть минимум один вход, минимум один выход, и минимум одно сокровище
* Лабиринт может содержать от 0 до 10 ям, нумерация их должна быть непрерывной от нуля до N - 1, где N -- их число. Не может быть двух ям с одинаковым номером.
* При проверке решений могут использоваться лабиринты, отличные от имеющихся в примерах, но удовлетворяющие данным правилам

Решения этой части задания можно присылать в виде:

* Pull Request-ов к проекту (имейте в виду, что в этом случае решение видно остальным участникам проекта)
* в виде файла / архива по электронной почте glukhikh@mail.ru (в этом случае решение видно только владельцу репозитория)

### Усовершенствования

Реализация различных усовершенствований правил игры (см. оригинальные правила в Википедии). Например:

* Реализация "взрывчатки", которую игрок может находить в лабиринте и взрывать с её помощью стены (кроме внешних стен)
* Реализация "реки", смещающей игрока на две клетки по течению (в неизвестную игроку сторону) при попадании в неё
* Реализация "монстра", постоянно стоящего на месте и ранящего игрока, оказавшегося на одной клетке с ним
* Реализация возможности одновременного участия в игре двух и более игроков (в этом случае лабиринт должен
содержать по крайней мере один вход на каждого игрока)
* Реализация "оружия", позволяющего воевать с монстрами и другими игроками
* и так далее

Решения этой части задания лучше присылать в виде Pull Request-ов к проекту.

### Баги

При обнаружении багов (а такое может случиться), 
о них можно сообщать в https://github.com/mglukhikh/terra-incognita/issues
и/или предлагать исправления в виде Pull Request-ов к проекту.
